@model BillsViewModel 

@{
    ViewData["Title"] = "My Bills";
}



<style>
    body {
        background-color: #f2f2f2;
        background: url('https://img.freepik.com/premium-photo/abstract-white-interior-highlights-future-architectural-background-3d-illustration-rendering_689904-142276.jpg') no-repeat center center fixed;
        background-size: cover;
        margin: 0; 
        display: flex;
        flex-direction: column;
        color: #000000; 
    }
</style>


<h2 style="text-align: center;">My Bills</h2><br />

<table class="table">
    <thead>
        <tr>
            <th>Bill Type</th>
            <th>Amount</th>
            <th>Due Date</th>
            <th>Paid</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var bill in Model.Bills)
        {
            <tr class="bill-row" data-id="@bill.Id">
                <td>@bill.BillType</td>
                <td>@bill.Amount</td>
                <td>@bill.DueDate.ToShortDateString()</td>
                <td>
                    <input type="checkbox" id="isPaid_@bill.Id" name="isPaid" @(bill.IsPaid ? "checked" : "") class="paid-checkbox" />
                </td>
                <td style="text-align: right;">
                    <form asp-action="Delete" asp-route-id="@bill.Id" method="post">
                        <button type="submit" class="btn btn-danger">Delete</button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>

<div>
    <a asp-action="Create" class="btn btn-primary" style="margin-bottom: 2cm;">Create New Bill</a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var checkboxes = document.querySelectorAll('.paid-checkbox');

        checkboxes.forEach(function (checkbox) {
            checkbox.addEventListener('change', function () {
                var row = this.closest('.bill-row');
                if (this.checked) {
                    row.style.textDecoration = 'line-through';
                } else {
                    row.style.textDecoration = 'none';
                }
            });
        });
    });
</script>

