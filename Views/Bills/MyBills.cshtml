@model BillsViewModel 

@{
    ViewData["Title"] = "My Bills";
}



<style>
    body {
        background-color: #f2f2f2;
        background: url('https://img.freepik.com/premium-photo/abstract-white-interior-highlights-future-architectural-background-3d-illustration-rendering_689904-142276.jpg') no-repeat center center fixed;
        background-size: cover;
        margin: 0; 
        display: flex;
        flex-direction: column;
    }

    .bin-button {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 45px;
        height: 45px;
        border-radius: 15px;
        background-color: rgb(255, 95, 95);
        cursor: pointer;
        transition-duration: 0.3s;
        border: none;
    }

    .bin-bottom {
        width: 15px;
    }

    .bin-top {
        width: 17px;
        transform-origin: right;
        transition-duration: 0.3s;
    }

    .bin-button:hover .bin-top {
        transform: rotate(45deg);
    }

    .bin-button:hover {
        background-color: rgb(255, 0, 0);
    }

    .bin-button:active {
        transform: scale(0.9);
    }


    .Btn {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        width: 45px;
        height: 45px;
        border-radius: calc(45px/2);
        border: none;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        transition-duration: .3s;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.199);
        background: linear-gradient(144deg,#af40ff,#5b42f3 50%,#00ddeb);
    }

    /* plus sign */
    .sign {
        width: 100%;
        font-size: 2.2em;
        color: white;
        transition-duration: .3s;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 8px;
    }
    /* text */
    .text {
        position: absolute;
        right: 0%;
        width: 0%;
        opacity: 0;
        color: white;
        font-size: 1.2em;
        font-weight: 500;
        transition-duration: .3s;
        padding-left: 8px;
        padding-right: 10px;
    }
    /* hover effect on button width */
    .Btn:hover {
        width: 125px;
        transition-duration: .3s;
    }

        .Btn:hover .sign {
            width: 30%;
            transition-duration: .3s;
            padding-left: 15px;
        }
        /* hover effect button's text */
        .Btn:hover .text {
            opacity: 1;
            width: 70%;
            transition-duration: .3s;
            padding-right: 15px;
        }
    /* button click effect*/
    .Btn:active {
        transform: translate(2px,2px);
    }
</style>


<h2 style="text-align: center;">My Bills</h2>

<div style="display: flex; justify-content: center; align-items: center;">
    <button asp-action="Create" class="Btn">
        <div class="sign">+</div>
        <div class="text">Create</div>
    </button>
</div><br /><br />

<table class="table">
    <thead>
        <tr>
            <th>Bill Type</th>
            <th>Amount</th>
            <th>Due Date</th>
            <th>Paid</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var bill in Model.Bills)
        {
            <tr class="bill-row" data-id="@bill.Id">
                <td>@bill.BillType</td>
                <td>@bill.Amount</td>
                <td>@bill.DueDate.ToShortDateString()</td>
                <td>
                    <input type="checkbox" id="isPaid_@bill.Id" name="isPaid" @(bill.IsPaid ? "checked" : "") class="paid-checkbox" />
                </td>
                <td style="text-align: right;">
                    <form asp-action="Delete" asp-route-id="@bill.Id" method="post">
                        <button type="submit" class="bin-button">
                            <svg class="bin-top"
                                 viewBox="0 0 39 7"
                                 fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                                <line x1="12"
                                      y1="1.5"
                                      x2="26.0357"
                                      y2="1.5"
                                      stroke="white"
                                      stroke-width="3"></line>
                            </svg>
                            <svg class="bin-bottom"
                                 viewBox="0 0 33 39"
                                 fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <mask id="path-1-inside-1_8_19" fill="white">
                                    <path d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"></path>
                                </mask>
                                <path d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                                      fill="white"
                                      mask="url(#path-1-inside-1_8_19)"></path>
                                <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                                <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                            </svg>
                        </button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>



<script>
    document.addEventListener('DOMContentLoaded', function () {
        var checkboxes = document.querySelectorAll('.paid-checkbox');

        checkboxes.forEach(function (checkbox) {
            checkbox.addEventListener('change', function () {
                var row = this.closest('.bill-row');
                if (this.checked) {
                    row.style.textDecoration = 'line-through';
                } else {
                    row.style.textDecoration = 'none';
                }
            });
        });
    });
</script>

